
## Download Swissprot database
wget https://ftp.uniprot.org/pub/databases/uniprot/current_release/knowledgebase/complete/uniprot_sprot.fasta.gz

## Build DIAMOND database
diamond makedb --in uniprot_sprot.fasta --db uniprot_sprot

## Align DNA query sequences against a protein reference database
diamond blastx \
    -d uniprot_sprot.dmnd \
    -q ~/Downloads/selected_transcriptome/cluster_transcripts_fpkm0.5_s3.fa \
    -o sand_smelt_vs_swissprot.tsv \
    -p 14 \
    -k 50 \
    --sensitive \
    --min-score 40 \
    -e 1e-5 \
    --outfmt 6 qseqid sseqid pident length mismatch gapopen qstart qend sstart send evalue bitscore stitle
